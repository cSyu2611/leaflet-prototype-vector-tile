{"remainingRequest":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/src/components/Map.vue","mtime":1579661610171},{"path":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/syu/Private/datacradle/map-prototype-vector-tile/map-prototype-vector-tile-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBlbnYgZnJvbSAnLi4vLi4vY29uZmlnL2Rldi5lbnYudmFyJwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JwppbXBvcnQgImxlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyIKLy8gaW1wb3J0IHBpYyBmcm9tICIuLzEwMC5wbmciCi8vIGltcG9ydCBwaWMyIGZyb20gIi4vMTAxLnBuZyIKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdNYXAnLAogICAgY29tcG9uZW50czp7fSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIHRoaXMuZHJhd01hcCgpCiAgICAgICAgLnRoZW4odGhpcy5yZW5kZXJTaGFwZSgpKQogICAgICAgIC8vIFByb21pc2UuYWxsKFt0aGlzLmdldFRpbGUoKV0pCiAgICAgICAgLy8gLnRoZW4oKCkgPT4gewogICAgICAgIC8vICAgICB0aGlzLnJlbmRlclNoYXBlKCk7CiAgICAgICAgLy8gfSk7CiAgICAgICAgLy8gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0TWFya2VycygpXSkKICAgICAgICAvLyAudGhlbigoKSA9PiB7CiAgICAgICAgLy8gICAgIHRoaXMucmVuZGVyTWFya2VycygpOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIFByb21pc2UuYWxsKFt0aGlzLmdldE1hcmtlcnMyKCldKQogICAgICAgIC8vIC50aGVuKCgpID0+IHsKICAgICAgICAvLyAgICAgdGhpcy5yZW5kZXJNYXJrZXJzMigpOwogICAgICAgIC8vIH0pOwoKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHNoYXJlZFN0YXRlICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlCiAgICAgICAgfSwKICAgICAgICAvLyBzaGFwZV90eXBlICgpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuc2hhcmVkU3RhdGUuc2hhcGVfdHlwZQogICAgICAgIC8vIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZHJhd01hcCAoKSB7CiAgICAgICAgICAgIC8vIOOCv+OCpOODq+OBruioreWumgogICAgICAgICAgICBjb25zdCBvc210aWxlID0gTC50aWxlTGF5ZXIoJy8ve3N9LnRpbGUub3NtLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7CiAgICAgICAgICAgICAgICB6SW5kZXg6IDEsCiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPSIvL29zbS5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGNvbnN0IGdzaXN0ZHRpbGUgPSBMLnRpbGVMYXllcignaHR0cHM6Ly9jeWJlcmphcGFuZGF0YS5nc2kuZ28uanAveHl6L3N0ZC97en0ve3h9L3t5fS5wbmcnLCB7CiAgICAgICAgICAgICAgICB6SW5kZXg6IDEsCiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogIjxhIGhyZWY9J2h0dHBzOi8vbWFwcy5nc2kuZ28uanAvZGV2ZWxvcG1lbnQvaWNoaXJhbi5odG1sJyB0YXJnZXQ9J19ibGFuayc+5Zyw55CG6Zmi44K/44Kk44OrPC9hPiIKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8g44Oe44OD44OX44Gu5Yid5pyf5YyWCiAgICAgICAgICAgIGNvbnN0IG1hcCA9IEwubWFwKCdtYXAnLCB7IAogICAgICAgICAgICAgICAgY2VudGVyOiBbMzQuNTQsIDEzMy43NDVdLAogICAgICAgICAgICAgICAgem9vbTogMTEsCiAgICAgICAgICAgICAgICBsYXllcnM6IFtvc210aWxlXSwKICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiBmYWxzZSwKICAgICAgICAgICAgICAgIG1pblpvb206IDYsCiAgICAgICAgICAgICAgICBtYXhab29tOiAxNywKICAgICAgICAgICAgICAgIGdlc3R1cmVIYW5kbGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZWZlckNhbnZhczogdHJ1ZSwKICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgTC5jb250cm9sLnpvb20oeyBwb3NpdGlvbjogJ2JvdHRvbXJpZ2h0JyB9KS5hZGRUbyhtYXApCiAgICAgICAgICAgIGNvbnN0IG1hcE9iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKQogICAgICAgICAgICAvLyDjg5Xjgqnjg7zjgqvjgrnjgZfjgZ/jgonjgrrjg7zjg6DjgafjgY3jgovjgojjgYbjgavjgarjgosKICAgICAgICAgICAgbWFwT2JqLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIiwgKCkgPT4ge21hcC5zY3JvbGxXaGVlbFpvb20uZW5hYmxlKCl9KTsKICAgICAgICAgICAgLy8g44OV44Kp44O844Kr44K544Gv44Ga44KM44Gf44KJ44K644O844Og44Gn44GN44Gq44GP44GZ44KLCiAgICAgICAgICAgIG1hcE9iai5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgKCkgPT4ge21hcC5zY3JvbGxXaGVlbFpvb20uZGlzYWJsZSgpfSk7CgogICAgICAgICAgICAvLyDjg4fjg5Djg4PjgrDnlKjjgavnuK7lsLrooajnpLoKICAgICAgICAgICAgTC5jb250cm9sLnNjYWxlKHtpbXBlcmlhbDpmYWxzZX0pLmFkZFRvKG1hcCkKCiAgICAgICAgICAgIEwuY29udHJvbC5sYXllcnMoewogICAgICAgICAgICAgICJPcGVuU3RyZWV0TWFwIjogb3NtdGlsZSwKICAgICAgICAgICAgICAi5Zu95Zyf5Zyw55CG6ZmiIC0g5qiZ5rqW5Zyw5ZuzIjogZ3Npc3RkdGlsZSwKICAgICAgICAgICAgfSkuYWRkVG8obWFwKQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldE1hcCcsIG1hcCkKICAgICAgICB9LAoKICAgICAgICAvLyBhc3luYyBnZXRTaGFwZSAoKSB7CiAgICAgICAgLy8gICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRTaGFwZScpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBhc3luYyBnZXRDc3YgKCkgewogICAgICAgIC8vICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q3N2JykKICAgICAgICAvLyB9LAogICAgICAgIGFzeW5jIHJlbW92ZUxheWVyIChzaGFwZV90eXBlKSB7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlTGF5ZXInLCB0aGlzLnNoYXJlZFN0YXRlLmxheWVyc1tzaGFwZV90eXBlXSkKICAgICAgICB9LAogICAgICAgIC8vIHNldENvbG9yIChmZWF0dXJlcykgewogICAgICAgIC8vICAgICAvLyBjc3bjga7jg4fjg7zjgr/jgYvjgolzaGFwZeOBruiJsuWIhuOBkQogICAgICAgIC8vICAgICBjb25zdCBLRVlfQ09ERSA9IGZlYXR1cmVzLnByb3BlcnRpZXMuS0VZX0NPREUKICAgICAgICAvLyAgICAgbGV0IHBvcExldmVsID0gMDsKICAgICAgICAvLyAgICAgY29uc3QgaW5mbyA9IHRoaXMuc2hhcmVkU3RhdGUuY3N2W3RoaXMuc2hhcmVkU3RhdGUuc2hhcGVfdHlwZV1bS0VZX0NPREVdCiAgICAgICAgLy8gICAgIGlmIChpbmZvKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKGNvbnN0IGxldmVsIGluIGVudi5USFJFU0hPTEQpIHsKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoaW5mby52YWx1ZSA+PSBlbnYuVEhSRVNIT0xEW2xldmVsXS52YWx1ZSkgcG9wTGV2ZWwgPSBsZXZlbAogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIHJldHVybiBlbnYuVEhSRVNIT0xEW3BvcExldmVsXS5jb2xvcgogICAgICAgIC8vIH0sCiAgICAgICAgLy8gc2V0U2hhcGVQb3B1cCAoZmVhdHVyZXMsIGxheWVyKSB7CiAgICAgICAgLy8gICAgIGNvbnN0IEtFWV9DT0RFID0gZmVhdHVyZXMucHJvcGVydGllcy5LRVlfQ09ERQogICAgICAgIC8vICAgICBjb25zdCBpbmZvID0gdGhpcy5zaGFyZWRTdGF0ZS5jc3ZbdGhpcy5zaGFyZWRTdGF0ZS5zaGFwZV90eXBlXVtLRVlfQ09ERV0KICAgICAgICAvLyAgICAgaWYgKGluZm8pIHsKICAgICAgICAvLyAgICAgICAgIGxheWVyLmJpbmRQb3B1cChgCiAgICAgICAgLy8gICAgICAgICAgICAgPGRpdj7mg7PlrprmtbjmsLTmt7HvvJoke2luZm8ubWV0ZXJ9PC9kaXY+PGJyLz4KICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2PuWcn+eggueBveWus+WNsemZuuaAp++8miR7aW5mby5kYW5nZXJ9PC9kaXY+PGJyLz4KICAgICAgICAvLyAgICAgICAgIGApCiAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICBsYXllci5iaW5kUG9wdXAoYOODh+ODvOOCv+OBjOOBguOCiuOBvuOBm+OCk2ApCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vIGFzeW5jIGdldE1hcmtlcnMgKCkgewogICAgICAgIC8vICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0TWFya2VycycpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBhc3luYyBnZXRNYXJrZXJzMiAoKSB7CiAgICAgICAgLy8gICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRNYXJrZXJzMicpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBhc3luYyBnZXRUaWxlICgpIHsKICAgICAgICAvLyAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldFRpbGUnKQogICAgICAgIC8vIH0sCiAgICAgICAgcmVuZGVyU2hhcGUgKCkgewogICAgICAgICAgICBjb25zdCBnZW8gPSBMLnZlY3RvckdyaWQucHJvdG9idWYoImxvY2FsaG9zdDoyNjExL2RhdGEva3VyYXNoaWtpL3t6fS97eH0ve3l9LnBiZiIsIHsKICAgICAgICAgICAgICAgIC8vIHN0eWxlOihmZWF0dXJlcykgPT4gewogICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZpbGxDb2xvcjogdGhpcy5zZXRDb2xvcihmZWF0dXJlcyksCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbG9yOiAnIzAwYTc5NScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHdlaWdodDogMC41LAogICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICAvLyBnZXRDb2xvcjooZCkgPT4gewogICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiBkIDwgMSA/ICcjMTczZTM0JyA6ICcjZTFjYjdmJzsKICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICAvLyBvbkVhY2hGZWF0dXJlOiAoZmVhdHVyZXMsIGxheWVyKSA9PiB7CiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgS0VZX0NPREUgPSBmZWF0dXJlcy5wcm9wZXJ0aWVzLktFWV9DT0RFCiAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgaW5mbyA9IHRoaXMuc2hhcmVkU3RhdGUuY3N2W3RoaXMuc2hhcmVkU3RhdGUuc2hhcGVfdHlwZV1bS0VZX0NPREVdIAogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U2hhcGVQb3B1cChmZWF0dXJlcywgbGF5ZXIpCiAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbW91c2VvdmVyOiBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYobGF5ZXIuaXNQb3B1cE9wZW4oKSAhPSB0cnVlKXsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuc2V0U3R5bGUoCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtb3VzZW91dDogZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmKGxheWVyLmlzUG9wdXBPcGVuKCkgIT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDAsIDEwMiwgMjU1LCAwLjUpJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwYTc5NScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAuNQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcG9wdXBvcGVuOiBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgbGF5ZXIuc2V0U3R5bGUoCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMgogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobGF5ZXIuaXNQb3B1cE9wZW4oKSkgLy9lc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcG9wdXBjbG9zZTogZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmdiYSgwLCAxMDIsIDI1NSwgMC41KScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwYTc5NScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMC41CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC8vIH0sIAogICAgICAgICAgICAgICAgcmVuZGVyZXI6IEwuc3ZnKCkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRMYXllcicsIGdlbykgIAoKICAgICAgICB9LAogICAgICAgIC8vIGNoYW5nZVNoYXBlVHlwZSAoc2hhcGVfdHlwZSkgewogICAgICAgIC8vICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFNoYXBlVHlwZScsIHNoYXBlX3R5cGUpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBjaGFuZ2VTaGFwZSAobmV3dmFsLCBvbGR2YWwpIHsKICAgICAgICAvLyAgICAgaWYgKHRoaXMuc2hhcmVkU3RhdGUubGF5ZXJzW25ld3ZhbF0gPT0gbnVsbCkgewogICAgICAgIC8vICAgICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0U2hhcGUoKSwgdGhpcy5nZXRDc3YoKV0pCiAgICAgICAgLy8gICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXllcihvbGR2YWwpCiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5yZW5kZXJTaGFwZSgpCiAgICAgICAgLy8gICAgICAgICB9KQogICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgdGhpcy5yZW1vdmVMYXllcihvbGR2YWwpCiAgICAgICAgLy8gICAgICAgICB0aGlzLnJlbmRlclNoYXBlKCkKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gcmVuZGVyTWFya2VycygpewogICAgICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zaGFyZWRTdGF0ZS5tYXJrZXJzLmxlbmd0aDsgaSsrKXsKICAgICAgICAvLyAgICAgICAgIHZhciBwb3B1cDEgPSBMLnBvcHVwKCkuc2V0Q29udGVudCgiPGgxPiIrdGhpcy5zaGFyZWRTdGF0ZS5tYXJrZXJzW2ldLmxvbmdpdHVkZSsiwrBOLCAiK3RoaXMuc2hhcmVkU3RhdGUubWFya2Vyc1tpXS5sYXRpdHVkZSsiwrBFPC9oMT48cD4iK3RoaXMuc2hhcmVkU3RhdGUubWFya2Vyc1tpXS5leHBsYW5hdGlvbisiPC9wPiIrIjxwPjxhIGhyZWYgPSAnIit0aGlzLnNoYXJlZFN0YXRlLm1hcmtlcnNbaV0ubGluaysiJyB0YXJnZXQ9J19ibGFuayc+44Ob44O844Og44Oa44O844K444KS6KaL44KLPC9hPiIpOwogICAgICAgIC8vICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oeyBpY29uVXJsOiBwaWMsIGljb25SZXRpbmFVcmw6IHBpYywgaWNvblNpemU6IFs1MCwgNTBdLCBpY29uQW5jaG9yOiBbMjUsIDI1XSwgcG9wdXBBbmNob3I6IFswLCAtNTBdIH0pOwogICAgICAgIC8vICAgICAgICAgY29uc3QgbWFyayA9IEwubWFya2VyKFt0aGlzLnNoYXJlZFN0YXRlLm1hcmtlcnNbaV0ubG9uZ2l0dWRlLHRoaXMuc2hhcmVkU3RhdGUubWFya2Vyc1tpXS5sYXRpdHVkZV0sIHsgaWNvbjptYXJrZXJJY29uIH0sIHsgZHJhZ2dhYmxlOiBmYWxzZSB9KS5iaW5kUG9wdXAocG9wdXAxKS5iaW5kVG9vbHRpcCh0aGlzLnNoYXJlZFN0YXRlLm1hcmtlcnNbaV0uZXhwbGFuYXRpb24pOwogICAgICAgIC8vICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRNYXJrZXInLCBtYXJrKQoKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gcmVuZGVyTWFya2VyczIoKXsKICAgICAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2hhcmVkU3RhdGUubWFya2VyczIubGVuZ3RoOyBpKyspewogICAgICAgIC8vICAgICAgICAgdmFyIHBvcHVwMSA9IEwucG9wdXAoKS5zZXRDb250ZW50KCI8aDE+Iit0aGlzLnNoYXJlZFN0YXRlLm1hcmtlcnMyW2ldLmxvbmdpdHVkZSsiwrBOLCAiK3RoaXMuc2hhcmVkU3RhdGUubWFya2VyczJbaV0ubGF0aXR1ZGUrIsKwRTwvaDE+PHA+Iit0aGlzLnNoYXJlZFN0YXRlLm1hcmtlcnMyW2ldLmV4cGxhbmF0aW9uKyI8L3A+IisiPHA+PGEgaHJlZiA9ICciK3RoaXMuc2hhcmVkU3RhdGUubWFya2VyczJbaV0ubGluaysiJyB0YXJnZXQ9J19ibGFuayc+44Ob44O844Og44Oa44O844K444KS6KaL44KLPC9hPiIpOwogICAgICAgIC8vICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oeyBpY29uVXJsOiBwaWMyLCBpY29uUmV0aW5hVXJsOiBwaWMyLCBpY29uU2l6ZTogWzUwLCA1MF0sIGljb25BbmNob3I6IFsyNSwgMjVdLCBwb3B1cEFuY2hvcjogWzAsIC01MF0gfSk7CiAgICAgICAgLy8gICAgICAgICBjb25zdCBtYXJrID0gTC5tYXJrZXIoW3RoaXMuc2hhcmVkU3RhdGUubWFya2VyczJbaV0ubG9uZ2l0dWRlLHRoaXMuc2hhcmVkU3RhdGUubWFya2VyczJbaV0ubGF0aXR1ZGVdLCB7IGljb246bWFya2VySWNvbiB9LCB7IGRyYWdnYWJsZTogZmFsc2UgfSkuYmluZFBvcHVwKHBvcHVwMSkuYmluZFRvb2x0aXAodGhpcy5zaGFyZWRTdGF0ZS5tYXJrZXJzMltpXS5leHBsYW5hdGlvbik7CiAgICAgICAgLy8gICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZE1hcmtlcicsIG1hcmspCgogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICB9Cn0K"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <section class=\"container\">\n        <div id=\"map\"></div>\n        <!-- <button @click=\"changeShapeType('shape1')\">shape1</button>\n        <button @click=\"changeShapeType('shape2')\">shape2</button>\n        <button @click=\"changeShapeType('shape3')\">shape3</button> -->\n    </section>\n\n</template>\n\n<script>\n    // import env from '../../config/dev.env.var'\n    import L from 'leaflet'\n    import \"leaflet/dist/leaflet.css\"\n    // import pic from \"./100.png\"\n    // import pic2 from \"./101.png\"\n\n    export default {\n        name: 'Map',\n        components:{},\n        data () {\n            return {\n            }\n        },\n        mounted () {\n            this.drawMap()\n            .then(this.renderShape())\n            // Promise.all([this.getTile()])\n            // .then(() => {\n            //     this.renderShape();\n            // });\n            // Promise.all([this.getMarkers()])\n            // .then(() => {\n            //     this.renderMarkers();\n            // });\n            // Promise.all([this.getMarkers2()])\n            // .then(() => {\n            //     this.renderMarkers2();\n            // });\n\n        },\n        computed: {\n            sharedState () {\n                return this.$store.state\n            },\n            // shape_type () {\n            //     return this.sharedState.shape_type\n            // }\n        },\n        methods: {\n            drawMap () {\n                // タイルの設定\n                const osmtile = L.tileLayer('//{s}.tile.osm.org/{z}/{x}/{y}.png', {\n                    zIndex: 1,\n                    attribution: '&copy; <a href=\"//osm.org/copyright\">OpenStreetMap</a> contributors'\n                })\n                const gsistdtile = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {\n                    zIndex: 1,\n                    attribution: \"<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>\"\n                })\n                // マップの初期化\n                const map = L.map('map', { \n                    center: [34.54, 133.745],\n                    zoom: 11,\n                    layers: [osmtile],\n                    zoomControl: false,\n                    minZoom: 6,\n                    maxZoom: 17,\n                    gestureHandling: true,\n                    preferCanvas: true,\n                    scrollWheelZoom: false\n                })\n                L.control.zoom({ position: 'bottomright' }).addTo(map)\n                const mapObj = document.getElementById('map')\n                // フォーカスしたらズームできるようになる\n                mapObj.addEventListener(\"focus\", () => {map.scrollWheelZoom.enable()});\n                // フォーカスはずれたらズームできなくする\n                mapObj.addEventListener(\"blur\", () => {map.scrollWheelZoom.disable()});\n\n                // デバッグ用に縮尺表示\n                L.control.scale({imperial:false}).addTo(map)\n\n                L.control.layers({\n                  \"OpenStreetMap\": osmtile,\n                  \"国土地理院 - 標準地図\": gsistdtile,\n                }).addTo(map)\n                this.$store.commit('setMap', map)\n            },\n\n            // async getShape () {\n            //     await this.$store.dispatch('getShape')\n            // },\n            // async getCsv () {\n            //     await this.$store.dispatch('getCsv')\n            // },\n            async removeLayer (shape_type) {\n                await this.$store.commit('removeLayer', this.sharedState.layers[shape_type])\n            },\n            // setColor (features) {\n            //     // csvのデータからshapeの色分け\n            //     const KEY_CODE = features.properties.KEY_CODE\n            //     let popLevel = 0;\n            //     const info = this.sharedState.csv[this.sharedState.shape_type][KEY_CODE]\n            //     if (info) {\n            //         for (const level in env.THRESHOLD) {\n            //             if (info.value >= env.THRESHOLD[level].value) popLevel = level\n            //         }\n            //     }\n            //     return env.THRESHOLD[popLevel].color\n            // },\n            // setShapePopup (features, layer) {\n            //     const KEY_CODE = features.properties.KEY_CODE\n            //     const info = this.sharedState.csv[this.sharedState.shape_type][KEY_CODE]\n            //     if (info) {\n            //         layer.bindPopup(`\n            //             <div>想定浸水深：${info.meter}</div><br/>\n            //             <div>土砂災害危険性：${info.danger}</div><br/>\n            //         `)\n            //     } else {\n            //         layer.bindPopup(`データがありません`)\n            //     }\n            // },\n            // async getMarkers () {\n            //     await this.$store.dispatch('getMarkers')\n            // },\n            // async getMarkers2 () {\n            //     await this.$store.dispatch('getMarkers2')\n            // },\n            // async getTile () {\n            //     await this.$store.dispatch('getTile')\n            // },\n            renderShape () {\n                const geo = L.vectorGrid.protobuf(\"localhost:2611/data/kurashiki/{z}/{x}/{y}.pbf\", {\n                    // style:(features) => {\n                    //     return {\n                    //         fillColor: this.setColor(features),\n                    //         color: '#00a795',\n                    //         weight: 0.5,\n                    //     }\n                    // },\n                    // getColor:(d) => {\n                    //     return d < 1 ? '#173e34' : '#e1cb7f';\n                    // },\n                    // onEachFeature: (features, layer) => {\n                    //     const KEY_CODE = features.properties.KEY_CODE\n                    //     const info = this.sharedState.csv[this.sharedState.shape_type][KEY_CODE] \n                    //     this.setShapePopup(features, layer)\n                    //     layer.on({\n                    //             mouseover: function()\n                    //             {\n                    //                 if(layer.isPopupOpen() != true){\n                    //                     layer.setStyle(\n                    //                     {\n                    //                         color: 'black',\n                    //                         weight: 2\n                    //                     }\n                    //                     )\n                    //                 }\n                    //             },\n                    //             mouseout: function()\n                    //             {\n                    //                 if(layer.isPopupOpen() != true){\n                    //                     layer.setStyle(\n                    //                     {\n                    //                         fillColor: 'rgba(0, 102, 255, 0.5)',\n                    //                         color: '#00a795',\n                    //                         weight: 0.5\n                    //                     }\n                    //                     )\n                    //                 }\n                    //             },\n                    //             popupopen: function()\n                    //             {\n                    //                 layer.setStyle(\n                    //                 {\n                    //                     color: 'red',\n                    //                     weight: 2\n                    //                 }\n                    //                 )\n                    //                 // console.log(layer.isPopupOpen()) //eslint-disable-line\n                    //             },\n                    //             popupclose: function()\n                    //             {\n                    //                 layer.setStyle(\n                    //                 {\n                    //                     fillColor: 'rgba(0, 102, 255, 0.5)',\n                    //                     color: '#00a795',\n                    //                     weight: 0.5\n                    //                 }\n                    //                 )\n                    //             }\n                    //         })\n                    // }, \n                    renderer: L.svg()\n                })\n                this.$store.commit('addLayer', geo)  \n\n            },\n            // changeShapeType (shape_type) {\n            //     this.$store.commit('setShapeType', shape_type)\n            // },\n            // changeShape (newval, oldval) {\n            //     if (this.sharedState.layers[newval] == null) {\n            //         Promise.all([this.getShape(), this.getCsv()])\n            //         .then(() => {\n            //             this.removeLayer(oldval)\n            //             this.renderShape()\n            //         })\n            //     } else {\n            //         this.removeLayer(oldval)\n            //         this.renderShape()\n            //     }\n            // },\n            // renderMarkers(){\n            //     for(var i = 0; i < this.sharedState.markers.length; i++){\n            //         var popup1 = L.popup().setContent(\"<h1>\"+this.sharedState.markers[i].longitude+\"°N, \"+this.sharedState.markers[i].latitude+\"°E</h1><p>\"+this.sharedState.markers[i].explanation+\"</p>\"+\"<p><a href = '\"+this.sharedState.markers[i].link+\"' target='_blank'>ホームページを見る</a>\");\n            //         var markerIcon = L.icon({ iconUrl: pic, iconRetinaUrl: pic, iconSize: [50, 50], iconAnchor: [25, 25], popupAnchor: [0, -50] });\n            //         const mark = L.marker([this.sharedState.markers[i].longitude,this.sharedState.markers[i].latitude], { icon:markerIcon }, { draggable: false }).bindPopup(popup1).bindTooltip(this.sharedState.markers[i].explanation);\n            //         this.$store.commit('addMarker', mark)\n \n            //     }\n            // },\n            // renderMarkers2(){\n            //     for(var i = 0; i < this.sharedState.markers2.length; i++){\n            //         var popup1 = L.popup().setContent(\"<h1>\"+this.sharedState.markers2[i].longitude+\"°N, \"+this.sharedState.markers2[i].latitude+\"°E</h1><p>\"+this.sharedState.markers2[i].explanation+\"</p>\"+\"<p><a href = '\"+this.sharedState.markers2[i].link+\"' target='_blank'>ホームページを見る</a>\");\n            //         var markerIcon = L.icon({ iconUrl: pic2, iconRetinaUrl: pic2, iconSize: [50, 50], iconAnchor: [25, 25], popupAnchor: [0, -50] });\n            //         const mark = L.marker([this.sharedState.markers2[i].longitude,this.sharedState.markers2[i].latitude], { icon:markerIcon }, { draggable: false }).bindPopup(popup1).bindTooltip(this.sharedState.markers2[i].explanation);\n            //         this.$store.commit('addMarker', mark)\n \n            //     }\n            // }\n        },\n        watch: {\n        }\n    }\n</script>\n\n<style scoped>\n\n#map {\n  height: 500px;\n  width: 800px;\n  margin: auto;\n}\n\n</style>\n"]}]}